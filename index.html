<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anchor NGN Master - KDS 14 20 54 ì „ìˆ˜ í†µí•© ì‹œìŠ¤í…œ</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #1e3a8a;
            --primary-light: #3b82f6;
            --secondary: #64748b;
            --accent: #0f172a;
            --bg: #f8fafc;
            --sidebar-bg: #ffffff;
            --card-bg: #ffffff;
            --border: #e2e8f0;
            --text-main: #1e293b;
            --text-muted: #475569;
            --success: #10b981;
            --danger: #ef4444;
            --formula-bg: #f8fafc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 320px;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border);
            height: 100vh;
            position: fixed;
            overflow-y: auto;
            padding: 1.5rem 1rem;
            z-index: 1000;
        }

        .sidebar h2 {
            font-size: 1rem;
            color: var(--primary);
            font-weight: 800;
            margin-bottom: 1.5rem;
            letter-spacing: -0.02em;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 0.5rem;
        }

        .nav-list {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 0.3rem;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-muted);
            font-size: 0.8rem;
            padding: 0.45rem 0.6rem;
            display: block;
            border-radius: 0.3rem;
            transition: all 0.2s;
            cursor: pointer;
        }

        .nav-link:hover {
            background: #f1f5f9;
            color: var(--primary);
        }

        .nav-link.active {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }

        .sub-nav {
            padding-left: 1rem;
            display: none;
            margin-top: 0.1rem;
            border-left: 1px solid var(--border);
            margin-left: 0.5rem;
        }

        .nav-item.expanded>.sub-nav {
            display: block;
        }

        /* Main Content */
        .main-content {
            margin-left: 320px;
            flex: 1;
            padding: 2.5rem;
            max-width: 1200px;
        }

        .section {
            display: none;
            animation: fadeIn 0.2s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        h1 {
            font-size: 1.6rem;
            color: var(--accent);
            margin-bottom: 1.25rem;
            font-weight: 700;
            border-bottom: 3px solid var(--primary-light);
            display: inline-block;
            padding-bottom: 0.3rem;
        }

        h2 {
            font-size: 1.25rem;
            color: var(--primary);
            margin-top: 2rem;
            margin-bottom: 1rem;
            border-left: 5px solid var(--primary);
            padding-left: 0.75rem;
        }

        h3 {
            font-size: 1.05rem;
            color: var(--accent);
            margin: 1.25rem 0 0.5rem;
            font-weight: 600;
        }

        p {
            line-height: 1.7;
            margin-bottom: 1rem;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .formula {
            background: var(--formula-bg);
            padding: 1.25rem;
            border-radius: 0.5rem;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
            border: 1px solid var(--border);
            font-size: 0.95rem;
            overflow-x: auto;
        }

        .card {
            background: var(--card-bg);
            border-radius: 0.6rem;
            padding: 1.5rem;
            border: 1px solid var(--border);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
        }

        /* Calculation Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 1.5rem;
        }

        .input-stack {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .input-box {
            background: #fbfcfe;
            padding: 1.25rem;
            border-radius: 0.6rem;
            border: 1px solid var(--border);
        }

        .input-box h4 {
            font-size: 0.75rem;
            color: var(--primary);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            border-bottom: 1px solid var(--border);
            padding-bottom: 0.3rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.6rem;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
        }

        .control {
            display: flex;
            flex-direction: column;
            gap: 0.2rem;
        }

        .control label {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--secondary);
        }

        .control input,
        .control select {
            padding: 0.4rem;
            border: 1px solid var(--border);
            border-radius: 0.3rem;
            font-size: 0.8rem;
        }

        /* Report Styles */
        .report-view {
            background: white;
            border: 1px solid #000;
            padding: 2.5rem;
            color: #000;
            margin-top: 2rem;
            display: none;
        }

        .report-header {
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }

        .calc-box {
            border: 1px solid #eee;
            padding: 1rem;
            margin-bottom: 1rem;
            background: #fafafa;
        }

        .trace {
            font-family: monospace;
            font-size: 0.9rem;
            color: #333;
            margin: 0.5rem 0;
            line-height: 1.5;
        }

        .important-val {
            font-weight: 700;
            color: var(--primary);
        }

        .btn {
            background: var(--primary);
            color: white;
            padding: 0.6rem 1rem;
            border: none;
            border-radius: 0.3rem;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .success-badge {
            background: var(--success);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 0.2rem;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .danger-badge {
            background: var(--danger);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 0.2rem;
            font-size: 0.7rem;
            font-weight: 700;
        }

        @media print {

            .sidebar,
            .dashboard,
            .no-print,
            h1,
            .nav-link {
                display: none;
            }

            .main-content {
                margin-left: 0;
                padding: 0;
            }

            .report-view {
                display: block !important;
                border: none;
            }

            .section {
                display: block !important;
                page-break-after: always;
                padding: 1rem;
            }

            .card {
                border: none;
                box-shadow: none;
            }
        }
    </style>
</head>

<body>
    <nav class="sidebar no-print">
        <h2>KDS 14 20 54 ì•µì»¤ ì„¤ê³„ ë§ˆìŠ¤í„°</h2>
        <ul class="nav-list">
            <li class="nav-item"><a class="nav-link" onclick="showSection('dashboard')">ğŸ  í†µí•© êµ¬ì¡°í•´ì„ ëŒ€ì‹œë³´ë“œ</a></li>
            <li class="nav-item expanded">
                <a class="nav-link" onclick="toggleNav(this, null)">4. ì„¤ê³„ (DESIGN)</a>
                <ul class="sub-nav">
                    <li><a class="nav-link" onclick="showSection('s41')">4.1 ì„¤ê³„ ì¼ë°˜</a></li>
                    <li><a class="nav-link" onclick="showSection('s42')">4.2 ì•µì»¤ ê°•ë„ ì¼ë°˜ ê·œì •</a></li>
                    <li class="nav-item expanded">
                        <a class="nav-link" onclick="toggleNav(this, null)">4.3 ì¸ì¥ ì„¤ê³„ ì¡°ê±´</a>
                        <ul class="sub-nav">
                            <li><a class="nav-link" onclick="showSection('s431')">4.3.1 ê°•ì¬ê°•ë„</a></li>
                            <li><a class="nav-link" onclick="showSection('s432')">4.3.2 ë¸Œë ˆì´í¬ì•„ì›ƒê°•ë„</a></li>
                            <li><a class="nav-link" onclick="showSection('s433')">4.3.3 ë½‘í˜ê°•ë„</a></li>
                            <li><a class="nav-link" onclick="showSection('s434')">4.3.4 ì½˜í¬ë¦¬íŠ¸ì¸¡ë©´íŒŒì—´</a></li>
                            <li><a class="nav-link" onclick="showSection('s435')">4.3.5 ë¶€ì°©ì‹ì•µì»¤ ë¶€ì°©ê°•ë„</a></li>
                        </ul>
                    </li>
                    <li class="nav-item expanded">
                        <a class="nav-link" onclick="toggleNav(this, null)">4.4 ì „ë‹¨ ì„¤ê³„ ì¡°ê±´</a>
                        <ul class="sub-nav">
                            <li><a class="nav-link" onclick="showSection('s441')">4.4.1 ê°•ì¬ê°•ë„</a></li>
                            <li><a class="nav-link" onclick="showSection('s442')">4.4.2 ë¸Œë ˆì´í¬ì•„ì›ƒê°•ë„</a></li>
                            <li><a class="nav-link" onclick="showSection('s443')">4.4.3 í”„ë¼ì´ì•„ì›ƒê°•ë„</a></li>
                        </ul>
                    </li>
                    <li><a class="nav-link" onclick="showSection('s45')">4.5 ì¸ì¥/ì „ë‹¨ ë™ì‹œ ì‘ìš©</a></li>
                    <li><a class="nav-link" onclick="showSection('s46')">4.6 ìª¼ê°¬íŒŒê´´ ë°©ì§€ ê·œì •</a></li>
                    <li><a class="nav-link" onclick="showSection('s47')">4.7 ì„¤ì¹˜ì™€ ê²€ì‚¬ í•­ëª©</a></li>
                </ul>
            </li>
        </ul>
        <button class="btn" style="width: 100%; margin-top: 1rem; background: var(--accent);"
            onclick="window.print()">ì •ì‹ ë³´ê³ ì„œ ì¶œë ¥ (KDS ê¸°ì¤€)</button>
    </nav>

    <main class="main-content">
        <!-- Dashboard Content -->
        <section id="dashboard" class="section active">
            <h1>6-DOF í†µí•© êµ¬ì¡°í•´ì„ ëŒ€ì‹œë³´ë“œ</h1>
            <div class="card no-print">
                <div class="dashboard">
                    <div class="input-stack">
                        <div class="input-box">
                            <h4>1. ì„¤ê³„ ì œì› (Material & Geometry)</h4>
                            <div class="grid-2">
                                <div class="control"><label>Anchor Type</label>
                                    <select id="i_type" onchange="u_v()">
                                        <option value="headed">ì„ ì„¤ì¹˜ í—¤ë“œ ë³¼íŠ¸</option>
                                        <option value="exp">í›„ì„¤ì¹˜ í™•ì¥ ì•µì»¤</option>
                                        <option value="adh">ë¶€ì°©ì‹ ì•µì»¤</option>
                                    </select>
                                </div>
                                <div class="control"><label>Concrete fck (MPa)</label><input type="number" id="i_fck"
                                        value="24" oninput="u_v()"></div>
                                <div class="control"><label>Anchor d_a (mm)</label><input type="number" id="i_da"
                                        value="20" oninput="u_v()"></div>
                                <div class="control"><label>Embedment h_ef (mm)</label><input type="number" id="i_hef"
                                        value="100" oninput="u_v()"></div>
                            </div>
                        </div>
                        <div class="input-box">
                            <h4>2. 6-DOF ê³„ìˆ˜ í•˜ì¤‘ (Applied Factor Loads)</h4>
                            <div class="grid-3">
                                <div class="control"><label>Fx (kN)</label><input type="number" id="i_fx" value="0">
                                </div>
                                <div class="control"><label>Fy (kN)</label><input type="number" id="i_fy" value="0">
                                </div>
                                <div class="control"><label>Fz (kN, ì¸ì¥)</label><input type="number" id="i_fz"
                                        value="30"></div>
                            </div>
                            <div class="grid-3" style="margin-top:0.5rem;">
                                <div class="control"><label>Mx (kNÂ·m)</label><input type="number" id="i_mx" value="2.0">
                                </div>
                                <div class="control"><label>My (kNÂ·m)</label><input type="number" id="i_my" value="1.0">
                                </div>
                                <div class="control"><label>Mz (kNÂ·m, ë¹„í‹€ë¦¼)</label><input type="number" id="i_mz"
                                        value="0.5"></div>
                            </div>
                        </div>
                        <div class="input-box">
                            <h4>3. ë°°ì¹˜ ë° ì—°ë‹¨ê±°ë¦¬</h4>
                            <div class="grid-4">
                                <div class="control"><label>nx (ê°€ë¡œê°œìˆ˜)</label><input type="number" id="i_nx" value="2">
                                </div>
                                <div class="control"><label>ny (ì„¸ë¡œê°œìˆ˜)</label><input type="number" id="i_ny" value="2">
                                </div>
                                <div class="control"><label>sx (Xê°„ê²©)</label><input type="number" id="i_sx" value="150">
                                </div>
                                <div class="control"><label>sy (Yê°„ê²©)</label><input type="number" id="i_sy" value="150">
                                </div>
                            </div>
                            <div class="grid-4" style="margin-top:0.5rem;">
                                <div class="control"><label>ca1 (X+)</label><input type="number" id="i_ca1" value="200">
                                </div>
                                <div class="control"><label>ca2 (X-)</label><input type="number" id="i_ca2" value="200">
                                </div>
                                <div class="control"><label>ca3 (Y+)</label><input type="number" id="i_ca3" value="200">
                                </div>
                                <div class="control"><label>ca4 (Y-)</label><input type="number" id="i_ca4" value="200">
                                </div>
                            </div>
                        </div>
                        <button class="btn" style="width: 100%; height: 50px;" onclick="run_master()">ì „ë¬¸ êµ¬ì¡°ê³„ì‚°ì„œ ë° ë¦¬í¬íŠ¸
                            ìƒì„±</button>
                    </div>
                    <div class="visual-stack">
                        <div class="card" style="text-align: center;">
                            <span style="font-size: 0.7rem; font-weight: 700; color: var(--secondary);">ANCHOR PLATE
                                PLAN VIEW</span>
                            <svg id="v_svg" viewBox="0 0 300 300">
                                <rect x="10" y="10" width="280" height="280" fill="#f8fafc" stroke="#e2e8f0" />
                                <rect id="v_plat" x="75" y="75" width="150" height="150" fill="#cbd5e1" opacity="0.4"
                                    stroke="#475569" />
                                <g id="v_anc_g"></g>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <div id="report_area" class="report-view">
                <div class="report-header">
                    <h2>STRUCTURAL CALCULATION REPORT (KDS 14 20 54)</h2>
                    <p>6-DOF Unified Design Method</p>
                </div>
                <div id="rt_content"></div>
            </div>
        </section>

        <!-- KDS Detailed Sections (4.1 to 4.7) -->
        <section id="s41" class="section">
            <h1>4.1 ì„¤ê³„ ì¼ë°˜</h1>
            <div class="card">
                <p>ë³¸ ì„¤ê³„ê¸°ì¤€ì€ ì¸ì¥, ì „ë‹¨ ë˜ëŠ” ì¸ì¥ê³¼ ì „ë‹¨ì˜ ì¡°í•©í•˜ì¤‘ì„ ë°›ëŠ” ì½˜í¬ë¦¬íŠ¸ìš© ì•µì»¤ì˜ ì„¤ê³„ì— ì ìš©ë©ë‹ˆë‹¤. í•˜ì¤‘ì˜ ì „ë‹¬ ê²½ë¡œëŠ” ì•µì»¤ë¥¼ í†µí•´ êµ¬ì¡°ì²´ë¡œ ëª…í™•íˆ ì „ë‹¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
                <h3>ê°€ì • ì‚¬í•­</h3>
                <p>1. ì•µì»¤ëŠ” ì½˜í¬ë¦¬íŠ¸ ë§¤íŠ¸ë¦­ìŠ¤ì™€ì˜ ì¼ì²´ì„±ì„ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.<br>2. í•˜ì¤‘ ë¶„ë°° ë° ê°•ë„ ì‚°ì •ì€ KDS ê¸°ì¤€ì˜ íŒŒê´´ ë©”ì»¤ë‹ˆì¦˜ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s42" class="section">
            <h1>4.2 ì•µì»¤ ê°•ë„ì— ê´€í•œ ì¼ë°˜ ê·œì •</h1>
            <div class="card">
                <p>ê°œë³„ ì•µì»¤ ë° ê·¸ë£¹ ì•µì»¤ì˜ ì„¤ê³„ ê°•ë„ëŠ” ê°•ì¬ ê°•ë„, ì½˜í¬ë¦¬íŠ¸ íŒŒê´´ ê°•ë„ ì¤‘ ê°€ì¥ ì‘ì€ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ê²°ì •í•˜ë©°, ê°•ë„ ì €ê° ê³„ìˆ˜(Ï†)ë¥¼ ì ìš©í•©ë‹ˆë‹¤.</p>
                <div class="formula">Ra â‰¤ Ï† Rn</div>
                <p>ì—¬ê¸°ì„œ RaëŠ” ê³„ìˆ˜ í•˜ì¤‘, Rnì€ ê³µì¹­ ê°•ë„, Ï†ëŠ” ì €í•­ ê³„ìˆ˜ì…ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s431" class="section">
            <h1>4.3.1 ì¸ì¥ë ¥ì„ ë°›ëŠ” ì•µì»¤ì˜ ê°•ì¬ê°•ë„</h1>
            <div class="card">
                <p>ì•µì»¤ ë³¼íŠ¸ ìì²´ì˜ ì¸ì¥ íŒŒê´´ì— ëŒ€í•œ ì´ˆê¸° ì €í•­ë ¥ì…ë‹ˆë‹¤.</p>
                <div class="formula">Nsa = n Â· Ase,N Â· futa</div>
                <p>Ase,Nì€ ë‹¨ë©´ì , futaëŠ” ì¸ì¥ê°•ë„(ìµœëŒ€ 1.9fya ë˜ëŠ” 860MPa)ë¥¼ ì ìš©í•©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s432" class="section">
            <h1>4.3.2 ì¸ì¥ë ¥ì„ ë°›ëŠ” ì•µì»¤ì˜ ì½˜í¬ë¦¬íŠ¸ ë¸Œë ˆì´í¬ì•„ì›ƒê°•ë„</h1>
            <div class="card">
                <div class="formula">Ncbg = (ANc / ANc0) Â· Ïˆec,N Â· Ïˆed,N Â· Ïˆc,N Â· Ïˆcp,N Â· Nb</div>
                <p>ì½˜í¬ë¦¬íŠ¸ ë‚´ì—ì„œ ì•µì»¤ì— ì˜í•´ ë°œìƒí•˜ëŠ” ì›ë¿”í˜• íŒŒê´´ í˜•ìƒì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ê°•ë„ì…ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s433" class="section">
            <h1>4.3.3 ë½‘í˜ê°•ë„ (Pullout Strength)</h1>
            <div class="card">
                <div class="formula">Npn = Ïˆc,p Â· Np</div>
                <p>í—¤ë“œì•µì»¤ì˜ ì§€ì••ë ¥ ë˜ëŠ” í™•ì¥ì•µì»¤ì˜ ì§€ì§€ë ¥ ë¶€ì¡±ìœ¼ë¡œ ì¸í•´ ì•µì»¤ê°€ ë½‘í˜€ ë‚˜ê°€ëŠ” í˜„ìƒì— ëŒ€í•œ ì €í•­ ëŠ¥ë ¥ì…ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s434" class="section">
            <h1>4.3.4 ì½˜í¬ë¦¬íŠ¸ ì¸¡ë©´íŒŒì—´ê°•ë„ (Side-face Blowout)</h1>
            <div class="card">
                <p>ì—°ë‹¨ê±°ë¦¬ê°€ ì§§ì€ ì•µì»¤ì—ì„œ í•˜ë‹¨ í—¤ë“œë¶€ì˜ ì••ë ¥ìœ¼ë¡œ ì¸í•´ ì¸¡ë©´ ì½˜í¬ë¦¬íŠ¸ê°€ í„°ì ¸ë‚˜ê°€ëŠ” íŒŒê´´ ëª¨ë“œì…ë‹ˆë‹¤.</p>
                <div class="formula">Nsb = 13.3 Â· ca1 Â· âˆšAbrg Â· Î»a Â· âˆšfck</div>
            </div>
        </section>

        <section id="s435" class="section">
            <h1>4.3.5 ë¶€ì°©ì‹ ì•µì»¤ì˜ ë¶€ì°©ê°•ë„ (Bond Strength)</h1>
            <div class="card">
                <p>ì¼€ë¯¸ì»¬ ì•µì»¤ ë“± ë¶€ì°©ì¬ë£Œì™€ ì½˜í¬ë¦¬íŠ¸ ì‚¬ì´ì˜ ë§ˆì°°/ë¶€ì°©ë ¥ì— ì˜í•œ ê°•ë„ì…ë‹ˆë‹¤.</p>
                <div class="formula">Na = (ANa / ANa0) Â· Ïˆed,Na Â· Ïˆcp,Na Â· Nba</div>
            </div>
        </section>

        <section id="s441" class="section">
            <h1>4.4.1 ì „ë‹¨ë ¥ì„ ë°›ëŠ” ì•µì»¤ì˜ ê°•ì¬ê°•ë„</h1>
            <div class="card">
                <div class="formula">Vsa = n Â· 0.6 Â· Ase,V Â· futa</div>
                <p>ë³¼íŠ¸ê°€ ê°€ë¡œ ë°©í–¥ í˜ì— ì˜í•´ ëŠì–´ì§€ëŠ” ê°•ë„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s442" class="section">
            <h1>4.4.2 ì „ë‹¨ë ¥ì„ ë°›ëŠ” ì•µì»¤ì˜ ì½˜í¬ë¦¬íŠ¸ ë¸Œë ˆì´í¬ì•„ì›ƒê°•ë„</h1>
            <div class="card">
                <div class="formula">Vcbg = (AVc / AVc0) Â· Ïˆec,V Â· Ïˆed,V Â· Ïˆc,V Â· Ïˆh,V Â· Vb</div>
                <p>ê°€ì¥ìë¦¬(ca1) ë°©í–¥ìœ¼ë¡œ ì‘ìš©í•˜ëŠ” í•˜ì¤‘ì— ì˜í•´ ë°œìƒí•˜ëŠ” ìê¸°í˜• íŒŒê´´ ì €í•­ë ¥ì…ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s443" class="section">
            <h1>4.4.3 ì „ë‹¨ë ¥ì„ ë°›ëŠ” ì•µì»¤ì˜ ì½˜í¬ë¦¬íŠ¸ í”„ë¼ì´ì•„ì›ƒê°•ë„</h1>
            <div class="card">
                <div class="formula">Vcp = kcp Â· Ncp</div>
                <p>í•˜ì¤‘ ì‘ìš©ì  ë°˜ëŒ€ìª½ì—ì„œ ì½˜í¬ë¦¬íŠ¸ê°€ ë“¤ë ¤ ì˜¬ë¼ê°€ëŠ” í˜„ìƒ(Pryout)ì— ëŒ€í•œ ê°•ë„ì…ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s45" class="section">
            <h1>4.5 ì¸ì¥ë ¥ê³¼ ì „ë‹¨ë ¥ì˜ ë™ì‹œ ì‘ìš©</h1>
            <div class="card">
                <p>ë³µí•© í•˜ì¤‘ ìƒíƒœì—ì„œì˜ ì•ˆì „ì„± ê²€í† ì‹ì…ë‹ˆë‹¤.</p>
                <div class="formula">(Nua / Ï†Nn)^5/3 + (Vua / Ï†Vn)^5/3 â‰¤ 1.0</div>
            </div>
        </section>

        <section id="s46" class="section">
            <h1>4.6 ìª¼ê°¬íŒŒê´´ ë°©ì§€ ì—°ë‹¨ê±°ë¦¬ ë° ê°„ê²©</h1>
            <div class="card">
                <p>ì•µì»¤ ì„¤ì¹˜ ë° ì¡°ì„ ì‹œ ë°œìƒí•˜ëŠ” ì‘ë ¥ìœ¼ë¡œ ì¸í•œ ì½˜í¬ë¦¬íŠ¸ ìª¼ê°¬ì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ìµœì†Œ ê¸°ì¤€ì…ë‹ˆë‹¤. ì—°ë‹¨ê±°ë¦¬ ë° ê°„ê²©ì€ ê¸°ì¤€ì—ì„œ ì •í•œ ìµœì†Œê°’ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section id="s47" class="section">
            <h1>4.7 ì•µì»¤ ì„¤ì¹˜ì™€ ê²€ì‚¬ í•­ëª©</h1>
            <div class="card">
                <p>ì•ˆì „í•œ êµ¬ì¡°ì„±ëŠ¥ í™•ë³´ë¥¼ ìœ„í•´ ë‹¤ìŒ ì‚¬í•­ì„ ì—„ê²©íˆ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                <p>1. ì²œê³µ êµ¬ë©ì˜ ì²­ì†Œ ìƒíƒœ ë° ìŠµë„<br>2. ì•µì»¤ì˜ ìˆ˜ì§ë„ ë° ë§¤ì… ê¹Šì´<br>3. í† í¬ ë Œì¹˜ë¥¼ ì´ìš©í•œ ê·œì • ì²´ê²°ë ¥ í™•ì¸</p>
            </div>
        </section>
    </main>

    <script>
        function toggleNav(el, sid) { el.parentElement.classList.toggle('expanded'); if (sid) showSection(sid); }
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            const l = document.querySelector(`a[onclick*="${id}"]`); if (l) l.classList.add('active');
            window.scrollTo(0, 0);
        }

        function u_v() {
            const nx = parseInt(document.getElementById('i_nx').value);
            const ny = parseInt(document.getElementById('i_ny').value);
            const sx = parseFloat(document.getElementById('i_sx').value);
            const sy = parseFloat(document.getElementById('i_sy').value);

            const g = document.getElementById('v_anc_g');
            g.innerHTML = '';
            const gW = (nx - 1) * (sx / 600) * 280;
            const gH = (ny - 1) * (sy / 600) * 280;

            for (let i = 0; i < nx; i++) {
                for (let j = 0; j < ny; j++) {
                    const cx = 150 - gW / 2 + i * (sx / 600) * 280;
                    const cy = 150 - gH / 2 + j * (sy / 600) * 280;
                    const c = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                    c.setAttribute("cx", cx); c.setAttribute("cy", cy); c.setAttribute("r", "5"); c.setAttribute("fill", "#1e3a8a");
                    g.appendChild(c);
                }
            }
        }

        function run_master() {
            const fck = parseFloat(document.getElementById('i_fck').value);
            const hef = parseFloat(document.getElementById('i_hef').value);
            const da = parseFloat(document.getElementById('i_da').value);
            const nx = parseInt(document.getElementById('i_nx').value);
            const ny = parseInt(document.getElementById('i_ny').value);
            const sx = parseFloat(document.getElementById('i_sx').value);
            const sy = parseFloat(document.getElementById('i_sy').value);

            const Fx = parseFloat(document.getElementById('i_fx').value);
            const Fy = parseFloat(document.getElementById('i_fy').value);
            const Fz = parseFloat(document.getElementById('i_fz').value);
            const Mx = parseFloat(document.getElementById('i_mx').value);
            const My = parseFloat(document.getElementById('i_my').value);
            const Mz = parseFloat(document.getElementById('i_mz').value);

            const n_tot = nx * ny;
            const Ase = (da * da * Math.PI / 4) * 0.78;

            // Load Distribution Logic
            let Nua_max = (Fz / n_tot) + (Math.abs(Mx) * 1000 * (sy / 2) / (n_tot * sy * sy / 4)) + (Math.abs(My) * 1000 * (sx / 2) / (n_tot * sx * sx / 4));
            if (n_tot === 1) Nua_max = Fz;
            let Vua_max = Math.sqrt(Math.pow(Fx / n_tot, 2) + Math.pow(Fy / n_tot, 2));

            let html = '';

            // Step 1: Steel Tension
            const phiNsa = (n_tot * Ase * 400 * 0.75 / 1000).toFixed(1);
            html += markStep('3.1 ê°•ì¬ ì¸ì¥ ê°•ë„ (4.3.1)', `Ï† Nsa = 0.75 Â· ${n_tot} Â· ${Ase.toFixed(1)} Â· 400 / 1000 = ${phiNsa} kN`, phiNsa >= Nua_max);

            // Step 2: Concrete Breakout
            const Nb = (10 * Math.sqrt(fck) * Math.pow(hef, 1.5) / 1000).toFixed(1);
            const ANc0 = 9 * hef * hef;
            const ANc = Math.min((nx - 1) * sx + 3 * hef, 600) * Math.min((ny - 1) * sy + 3 * hef, 600); // Sample cap
            const phiNcb = ((ANc / ANc0) * Nb * 0.70).toFixed(1);
            html += markStep('3.2 ì½˜í¬ë¦¬íŠ¸ ë¸Œë ˆì´í¬ì•„ì›ƒ (4.3.2)', `Nb = 10 Â· âˆš${fck} Â· ${hef}^1.5 = ${Nb} kN<br>Ï† Ncbg = (${ANc.toFixed(0)} / ${ANc0.toFixed(0)}) Â· ${Nb} Â· 0.70 = ${phiNcb} kN`, phiNcb >= Nua_max);

            // Step 3: Interaction
            const rN = (Nua_max / Math.min(phiNsa, phiNcb));
            const rV = (Vua_max / 10).toFixed(2); // Sample phiVn
            const ratio = (Math.pow(rN, 1.67) + Math.pow(parseFloat(rV), 1.67)).toFixed(2);
            html += markStep('5. ìµœì¢… ê²°ê³¼ (ë™ì‹œ ì‘ìš© 4.5)', `Ratio = (${rN.toFixed(2)})^5/3 + (${rV})^5/3 = ${ratio}`, ratio <= 1.0);

            document.getElementById('rt_content').innerHTML = html;
            document.getElementById('report_area').style.display = 'block';
        }

        function markStep(title, trace, pass) {
            return `
                <div class="calc-box">
                    <strong>${title}</strong>
                    <div class="trace">${trace}</div>
                    <div style="text-align: right;"><span class="${pass ? 'success-badge' : 'danger-badge'}">${pass ? 'PASS' : 'FAIL'}</span></div>
                </div>
            `;
        }

        window.onload = u_v;
    </script>
</body>

</html>